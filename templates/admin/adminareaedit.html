<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Edit Area</title>
    <link rel="stylesheet" th:href="@{/css/common.css}" />
    <link rel="stylesheet" th:href="@{/css/admin/common.css}" />
</head>
<body>
<div class="container">
    <h1>Edit Area</h1>

    <div th:if="${area == null}">Area not found.</div>

    <div th:if="${area != null}">
        <form th:action="@{/admin/adminareaedit}" th:object="${area}" method="post">
            <!-- Hidden ID for submission -->
            <input type="hidden" th:field="*{areaId}" />

            <div class="form-group">
                <label for="id">Area ID</label>
                <input type="text" id="id" th:field="*{areaId}" readonly class="readonly" />
            </div>

            <div class="form-group">
                <label for="name">Area Name *</label>
                <input type="text" id="name" th:field="*{areaname}" required />
            </div>

            <div class="form-group">
                <label for="desc">Description</label>
                <textarea id="desc" th:field="*{description}"></textarea>
            </div>

            <div class="form-group">
                <label for="thumb">Thumbnail URI</label>
                <img th:if="*{thumbnailUri != null}" th:src="*{thumbnailUri}" alt="Thumbnail" class="thumbnail-preview" />
                <input type="text" id="thumb" th:field="*{thumbnailUri}" placeholder="e.g., https://..." />
            </div>

            <div class="form-group">
                <label for="kml">KML URI</label>
                <input type="text" id="kml" th:field="*{kmlUri}" placeholder="e.g., https://..." />
            </div>

            <fieldset>
                <legend>Coordinates (auto-generated by server)</legend>
                <div class="form-row">
                    <div class="form-group">
                        <label for="minLat">Min Latitude</label>
                        <input type="number" id="minLat" th:field="*{minLat}" step="0.00001" readonly class="readonly" />
                    </div>
                    <div class="form-group">
                        <label for="maxLat">Max Latitude</label>
                        <input type="number" id="maxLat" th:field="*{maxLat}" step="0.00001" readonly class="readonly" />
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="minLon">Min Longitude</label>
                        <input type="number" id="minLon" th:field="*{minLon}" step="0.00001" readonly class="readonly" />
                    </div>
                    <div class="form-group">
                        <label for="maxLon">Max Longitude</label>
                        <input type="number" id="maxLon" th:field="*{maxLon}" step="0.00001" readonly class="readonly" />
                    </div>
                </div>
            </fieldset>

            <div class="info-row">
                <span><strong>Created</strong></span>
                <span th:text="${area.createdAt}">createdAt</span>
            </div>
            <div class="info-row">
                <span><strong>Updated</strong></span>
                <span th:text="${area.updatedAt}">updatedAt</span>
            </div>

            <div class="actions">
                <button type="submit">Save Changes</button>
                <a href="javascript:history.back()">Cancel</a>
            </div>
        </form>
    </div>
</div>
</body>
</html>
